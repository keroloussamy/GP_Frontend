<section class="feeds-page">
  <!-- feeds nav -->
  <app-nav></app-nav>
  <!-- end of feeds nav -->

  <!-- feeds content -->
  <div class="container d-flex justify-content-between">
    <div class="col-12 col-xxl-8 col-xl-1 col-lg-12 main-content">
      <div class="col-11 mx-auto">
        <div class="feeds-content">
          <div class="feeds-header dark-mode-1">
            <div class="header-top border" *ngIf="page == 'feed'">
              <h4 class="light-text">Home</h4>
              <i class="far fa-star"></i>
            </div>
            <div class="header-post dark-mode-1 border" *ngIf="page == 'feed'">
              <div class="header-img-wrapper">
                <img src="../../assets/images/user1.jpg" />
              </div>
              <input type="text" placeholder="What's happening?" class="dark-mode-2 light-text border" />
              <i class="far fa-image"></i>
              <i class="fas fa-camera"></i>
              <i class="far fa-chart-bar"></i>
            </div>
          </div>
          <ng-container *ngIf="page == 'feed'; else elseTemplate">
            <app-tweet class="posts dark-mode-1" [tweetList]="homePageTweets"></app-tweet>
          </ng-container>
          <ng-template #elseTemplate>
            <app-tweet-details class="posts dark-mode-1"></app-tweet-details>
          </ng-template>
        </div>
      </div>
    </div>

    <div class="mx-0 col-lg-4 d-none d-lg-block">
      <app-side-panel></app-side-panel>
    </div>
  </div>
  <!-- end of feeds content -->

  <button type="button" class="post-btn" (click)="openPostTweetWindow()">
    +<i class="fas fa-feather-alt"></i> Post
  </button>

  <!-- post modal -->
  <div class="modal-wrapper">
    <div class="modal dark-mode-1" style="overflow: hidden">
      <div class="modal-header border">
        <i class="fas fa-times" (click)="closePostTweetWindow()"></i>
      </div>
      <div style="overflow: hidden">
        <div class="modal-body">
          <div class="modal-img">
            <img src="../../assets/images/user1.jpg" />
          </div>
          <textarea style="resize: none; clear: both" type="text" placeholder="What's happening?"
            class="modal-input dark-mode-2 light-text border tweet-text" maxlength="280" rows="6"></textarea>
        </div>
        <!-- style="margin-left: 6.7rem;" -->
        <div class="d-flex flex-wrap justify-content-center ml-5 image-list">
          <div class="modal-image position-relative" *ngFor="let url of imageUrls; let i = index">
            <img [src]="url" data-index="{{i}}" />
            <button class="position-absolute" style="
                left: 5%;
                margin-top: 5px;
                border: none;
                background: none;
                border-radius: 50%;
              " (click)="deletImageFromTweet($event)">
              <i class="fas fa-times-circle fa-2x text-dark bg-light" style="border-radius: 50%"></i>
            </button>
          </div>
        </div>
        <div class="d-flex flex-wrap justify-content-center ml-5 video-list">
        </div>
      </div>
      <div class="modal-footer py-3">
        <div class="mr-auto">
          <div class="modal-icons">
            <div class="file-input">
              <input type="file" id="image-file" class="image-file d-none" multiple
                accept="image/png, image/jpeg, image/jpg" multiple (change)="detectImageFiles($event)" />
              <label for="image-file"><i class="far fa-image myicon"></i></label>
            </div>
            <div class="file-input">
              <input type="file" id="video-file" class="video-file d-none" multiple
                accept="video/webm, video/mkv, video/flv, video/vob, video/gifv, video/mp4, video/avi"
                (change)="detectVideoFiles($event)" />
              <label for="video-file"><i class="fas fa-video myicon"></i></label>
            </div>
          </div>
        </div>
        <div>
          <button class="modal-button post-button" (click)="postTweet()" type="button">Post</button>
        </div>
      </div>
    </div>
  </div>
  <!-- end of post modal -->
</section>